<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ include file="header.jsp" %>
	<main>
            <section class="main">
                    <%@ include file="categorie.jsp" %>
                    <%@ include file="produits.jsp" %>
            </section>
            
            <aside>
            	<h4 class="monPan">Mon panier</h4>
            	<c:if test="${!empty resultat}"><p class="erreur"><c:out value="${resultat}"/></p></c:if>
            	 <c:choose>
						<c:when test="${ empty panier}"><p class="erreur">Votre panier est vide</p></c:when>
						<c:otherwise>
							<form action="" method="post">
								<table class="tablePan"> 
									<c:forEach var="entry" items="${panier}"> 
										<tr>  
											 <td class="elem"><c:out value="${entry.value.qte}*${entry.value.prix}$ = "/></td>
											 <td class="elem"><c:out value="${entry.value.prixTotal} $"/></td>
										</tr>
									</c:forEach>
									<tr><td><c:if test="${!empty prixTotalCommande}"><c:out value="Total : ${prixTotalCommande} $"/></c:if></td></tr>
								</table>
								<button id="valid"  class="valid" type="submit">Acheter</button>
							</form>
						</c:otherwise>
				  </c:choose>
            </aside>
            
        </main>
	</body>
</html>