<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ include file="header.jsp" %>
	<main>
            <section class="main">
                    <%@ include file="categorie.jsp" %>
                    <%@ include file="produits.jsp" %>
            </section>
            
            <aside>
            	<h4 class="monPan">Mon panier</h4>
            	<c:if test="${!empty resultat}"><p class="erreur"><c:out value="${resultat}"/></p></c:if>
            	<form>
		            <c:choose>
						<c:when test="${ empty panier}"><p class="erreur">Votre panier est vide</p></c:when>
						<c:otherwise>
							
								<table class="tablePan"> 
									<c:forEach var="entry" items="${panier}"> 
										<tr> <td><c:out value="${entry.key}"/></td> 
											 <td><c:out value="${entry.value.nom}"/></td> 
											 <td><c:out value="${entry.value.qte} * ${entry.value.prix}$ = "/></td>
											 <td><c:out value="${entry.value.prixTotal} $"/></td>
										</tr> 
									</c:forEach>
								</table>
							<hr/>
						</c:otherwise>
					</c:choose>
					<c:if test="${!empty prixTotalCommande}"><p class="total"><c:out value="Total : ${prixTotalCommande} $"/></p></c:if>
				</form>
            </aside>
            
        </main>
	</body>
</html>